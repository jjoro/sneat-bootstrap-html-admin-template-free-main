<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootstrap 5 아코디언 메뉴 예제</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        /* 추가적인 스타일링 */
        body {
            background-color: #f8f9fa;
        }
        .main-container {
            max-width: 960px;
            margin-top: 2rem;
        }
        .submenu-content {
            border: 1px solid #dee2e6;
            border-top: none;
            border-radius: 0 0 .25rem .25rem;
            background-color: #fff;
        }
        .navbar .nav-link.active {
            /* 활성화된 메뉴 스타일 */
            font-weight: bold;
            color: #fff !important;
        }
    </style>
</head>
<body>

    <div class="container main-container">
        <h1 class="mb-4 text-center">Bootstrap 5 아코디언 메뉴</h1>
        <p class="text-center text-muted">하나의 상위 메뉴를 클릭하면 다른 열려있는 하위 메뉴가 자동으로 닫힙니다.</p>

        <!-- 아코디언 메뉴의 부모 컨테이너 -->
        <div id="accordionMenu">
            <!-- 최상위 메뉴 (네비게이션 바) -->
            <nav class="navbar navbar-expand-lg navbar-dark bg-primary rounded-top">
                <div class="container-fluid">
                    <ul class="navbar-nav w-100 d-flex justify-content-around">
                        <li class="nav-item">
                            <!--
                                data-bs-toggle="collapse": Bootstrap의 collapse 플러그인을 활성화합니다.
                                data-bs-target="#menu1Sub": 이 링크가 제어할 collapse 요소의 ID를 지정합니다.
                            -->
                            <a class="nav-link" href="#" data-bs-toggle="collapse" data-bs-target="#menu1Sub" aria-expanded="false" aria-controls="menu1Sub">제품</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-bs-toggle="collapse" data-bs-target="#menu2Sub" aria-expanded="false" aria-controls="menu2Sub">솔루션</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-bs-toggle="collapse" data-bs-target="#menu3Sub" aria-expanded="false" aria-controls="menu3Sub">고객지원</a>
                        </li>
                        <li class="nav-item">
                            <!-- 하위 메뉴가 없는 일반 링크 -->
                            <a class="nav-link" href="#">회사소개</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- 하위 메뉴 영역 -->
            <!--
                .collapse: 이 요소가 접힐 수 있음을 나타냅니다.
                data-bs-parent="#accordionMenu": 아코디언 효과를 위해 부모 요소를 지정합니다.
                이 속성 덕분에 하나의 하위 메뉴가 열릴 때 동일한 부모를 가진 다른 하위 메뉴는 자동으로 닫힙니다.
            -->
            <div class="collapse submenu-content p-4" id="menu1Sub" data-bs-parent="#accordionMenu">
                <h4>제품 하위 메뉴</h4>
                <p>여기에 제품 관련 하위 메뉴 내용이 표시됩니다.</p>
                <ul class="list-group">
                    <li class="list-group-item">제품 A</li>
                    <li class="list-group-item">제품 B</li>
                    <li class="list-group-item">제품 C</li>
                </ul>
            </div>

            <div class="collapse submenu-content p-4" id="menu2Sub" data-bs-parent="#accordionMenu">
                <h4>솔루션 하위 메뉴</h4>
                <p>여기에 솔루션 관련 하위 메뉴 내용이 표시됩니다.</p>
                <a href="#" class="btn btn-secondary">더 알아보기</a>
            </div>

            <div class="collapse submenu-content p-4" id="menu3Sub" data-bs-parent="#accordionMenu">
                <h4>고객지원 하위 메뉴</h4>
                <p>자주 묻는 질문, 문의하기 등 고객지원 관련 링크가 여기에 위치합니다.</p>
                <div class="d-grid gap-2">
                    <button class="btn btn-outline-primary" type="button">FAQ</button>
                    <button class="btn btn-outline-primary" type="button">1:1 문의</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        // data-bs-parent 속성으로 인해 별도의 JavaScript 코드가 필요하지 않습니다.
        // 아래 코드는 현재 활성화된 메뉴 링크에 'active' 클래스를 추가/제거하여
        // 시각적으로 강조하는 선택적 기능입니다.

        document.addEventListener('DOMContentLoaded', function () {
            const accordionMenu = document.getElementById('accordionMenu');
            const navLinks = accordionMenu.querySelectorAll('.navbar .nav-link[data-bs-toggle="collapse"]');

            // 모든 collapse 요소에 대한 참조
            const collapseElements = accordionMenu.querySelectorAll('.collapse');

            collapseElements.forEach(element => {
                // collapse 요소가 보여질 때
                element.addEventListener('show.bs.collapse', function () {
                    // 모든 링크에서 'active' 클래스 제거
                    navLinks.forEach(link => link.classList.remove('active'));

                    // 현재 열리는 collapse에 해당하는 링크 찾기
                    const activeLink = document.querySelector(`[data-bs-target="#${element.id}"]`);
                    if (activeLink) {
                        activeLink.classList.add('active');
                    }
                });

                // collapse 요소가 숨겨질 때
                element.addEventListener('hide.bs.collapse', function () {
                    // 현재 닫히는 collapse에 해당하는 링크 찾기
                     const activeLink = document.querySelector(`[data-bs-target="#${element.id}"]`);
                     if(activeLink) {
                         activeLink.classList.remove('active');
                     }
                });
            });
        });
    </script>
</body>
</html>

